<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ Jogos de Fra√ß√µes - Divers√£o com Matem√°tica!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-card {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
        }

        .game-card:hover {
            transform: translateY(-5px);
        }

        .game-card.advanced {
            border: 3px solid #f6ad55;
            background: linear-gradient(135deg, #fff8f0 0%, #ffffff 100%);
        }

        .game-title {
            font-size: 1.4em;
            color: #5a67d8;
            margin-bottom: 15px;
            text-align: center;
        }

        .game-title.advanced {
            color: #d69e2e;
        }

        .difficulty-badge {
            display: inline-block;
            background: #f6ad55;
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
        }

        /* Jogo da Pizza */
        .pizza-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .pizza {
            display: grid;
            grid-template-columns: repeat(8, 35px);
            gap: 2px;
            margin: 10px;
        }

        .pizza-slice {
            width: 35px;
            height: 35px;
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .pizza-slice.active {
            background: #ff6b35;
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);
        }

        /* Jogo de Compara√ß√£o */
        .comparison-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 10px;
        }

        .fraction-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .fraction-display {
            font-size: 1.8em;
            font-weight: bold;
            color: #5a67d8;
            margin-bottom: 10px;
        }

        .bars-container {
            display: flex;
            gap: 2px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 150px;
        }

        .bar {
            width: 20px;
            height: 50px;
            background: #e2e8f0;
            border: 2px solid #cbd5e0;
            border-radius: 4px;
            margin: 1px;
        }

        .bar.filled {
            background: linear-gradient(45deg, #48bb78, #38a169);
        }

        .comparison-symbol {
            font-size: 2.5em;
            font-weight: bold;
            color: #e53e3e;
            cursor: pointer;
            transition: transform 0.3s ease;
            padding: 10px;
        }

        .comparison-symbol:hover {
            transform: scale(1.2);
        }

        /* Bot√µes */
        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 3px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn.success {
            background: linear-gradient(45deg, #48bb78, #38a169);
        }

        .btn.danger {
            background: linear-gradient(45deg, #f56565, #e53e3e);
        }

        /* Equival√™ncia */
        .equivalence-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .fraction-input {
            width: 50px;
            height: 35px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            text-align: center;
            font-size: 1.1em;
            font-weight: bold;
        }

        .fraction-input:focus {
            border-color: #667eea;
            outline: none;
        }

        /* Soma Visual */
        .sum-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .fraction-blocks {
            display: flex;
            gap: 2px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 120px;
        }

        .block {
            width: 25px;
            height: 25px;
            border: 2px solid #cbd5e0;
            border-radius: 4px;
            background: #f7fafc;
            margin: 1px;
        }

        .block.filled {
            background: #4299e1;
        }

        .block.filled2 {
            background: #ed8936;
        }

        .sum-symbol {
            font-size: 1.8em;
            font-weight: bold;
            color: #5a67d8;
        }

        /* Passos da Resolu√ß√£o */
        .steps-container {
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
        }

        .step {
            margin: 8px 0;
            padding: 8px;
            background: white;
            border-radius: 8px;
            font-size: 0.9em;
        }

        .step.highlight {
            background: #c6f6d5;
            border-left: 4px solid #48bb78;
        }

        /* Feedback */
        .feedback {
            text-align: center;
            padding: 12px;
            margin: 12px 0;
            border-radius: 12px;
            font-weight: bold;
            display: none;
        }

        .feedback.success {
            background: #c6f6d5;
            color: #2f855a;
            border: 2px solid #9ae6b4;
        }

        .feedback.error {
            background: #fed7d7;
            color: #c53030;
            border: 2px solid #fc8181;
        }

        .score {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 10px 20px;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            font-weight: bold;
            color: #5a67d8;
            z-index: 1000;
        }

        /* Simplifica√ß√£o */
        .simplify-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .games-grid {
                grid-template-columns: 1fr;
            }
            .header h1 {
                font-size: 2em;
            }
            .pizza {
                grid-template-columns: repeat(4, 30px);
            }
            .pizza-slice {
                width: 30px;
                height: 30px;
            }
            .comparison-container {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="score">
        üèÜ Pontos: <span id="totalScore">0</span>
    </div>

    <div class="container">
        <div class="header">
            <h1>üéÆ Jogos de Fra√ß√µes</h1>
            <p>Aprenda brincando! Do b√°sico ao avan√ßado com denominadores diferentes</p>
        </div>

        <div class="games-grid">
            <!-- Jogo 1: Pizza de Fra√ß√µes -->
            <div class="game-card">
                <h2 class="game-title">üçï Pizza de Fra√ß√µes</h2>
                <p style="text-align: center; margin-bottom: 15px;">Clique nos peda√ßos para formar a fra√ß√£o!</p>
                
                <div style="text-align: center;">
                    <div class="fraction-display" id="pizzaFraction">0/8</div>
                </div>
                
                <div class="pizza-container">
                    <div class="pizza" id="pizzaGame">
                        <!-- Peda√ßos ser√£o gerados pelo JS -->
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="resetPizza()">üîÑ Nova Pizza</button>
                    <button class="btn success" onclick="checkPizzaFraction()">‚úÖ Verificar</button>
                </div>
                
                <div class="feedback" id="pizzaFeedback"></div>
            </div>

            <!-- Jogo 2: Comparando Fra√ß√µes (Com denominadores diferentes) -->
            <div class="game-card advanced">
                <h2 class="game-title advanced">‚öñÔ∏è Compare Fra√ß√µes Diferentes <span class="difficulty-badge">AVAN√áADO</span></h2>
                <p style="text-align: center; margin-bottom: 15px;">Fra√ß√µes com denominadores diferentes! Qual √© maior?</p>
                
                <div class="comparison-container" id="comparisonGame">
                    <!-- Ser√° preenchido pelo JS -->
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="generateComparison()">üîÑ Nova Compara√ß√£o</button>
                </div>
                
                <div class="feedback" id="comparisonFeedback"></div>
            </div>

            <!-- Jogo 3: Fra√ß√µes Equivalentes -->
            <div class="game-card">
                <h2 class="game-title">üîÑ Fra√ß√µes Equivalentes</h2>
                <p style="text-align: center; margin-bottom: 15px;">Complete a equival√™ncia! Digite o n√∫mero que falta.</p>
                
                <div class="equivalence-container">
                    <span class="fraction-display" id="originalFraction">1/2</span>
                    <span class="sum-symbol">=</span>
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <input type="number" class="fraction-input" id="equivalentNum" min="1" max="20">
                        <div style="width: 50px; height: 2px; background: #333; margin: 2px 0;"></div>
                        <span id="equivalentDen" style="font-size: 1.1em; font-weight: bold;">4</span>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="generateEquivalence()">üîÑ Nova Equival√™ncia</button>
                    <button class="btn success" onclick="checkEquivalence()">‚úÖ Verificar</button>
                </div>
                
                <div class="feedback" id="equivalenceFeedback"></div>
            </div>

            <!-- Jogo 4: Somando Fra√ß√µes Iguais -->
            <div class="game-card">
                <h2 class="game-title">‚ûï Somando Fra√ß√µes Iguais</h2>
                <p style="text-align: center; margin-bottom: 15px;">Mesmo denominador - s√≥ somar em cima!</p>
                
                <div class="sum-container" id="sumGame">
                    <!-- Ser√° preenchido pelo JS -->
                </div>
                
                <div style="text-align: center; margin: 15px 0;">
                    <span style="font-size: 1.1em;">Resultado: </span>
                    <div style="display: inline-flex; flex-direction: column; align-items: center; margin: 0 10px;">
                        <input type="number" class="fraction-input" id="resultNum" min="1" max="20">
                        <div style="width: 50px; height: 2px; background: #333; margin: 2px 0;"></div>
                        <span id="resultDen" style="font-size: 1.1em; font-weight: bold;">8</span>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="generateSum()">üîÑ Nova Soma</button>
                    <button class="btn success" onclick="checkSum()">‚úÖ Verificar</button>
                </div>
                
                <div class="feedback" id="sumFeedback"></div>
            </div>

            <!-- Jogo 5: NOVO - Somando Denominadores Diferentes -->
            <div class="game-card advanced">
                <h2 class="game-title advanced">üßÆ Soma com Denominadores Diferentes <span class="difficulty-badge">DESAFIO</span></h2>
                <p style="text-align: center; margin-bottom: 15px;">O grande desafio! Precisa achar denominador comum.</p>
                
                <div class="sum-container" id="diffSumGame">
                    <!-- Ser√° preenchido pelo JS -->
                </div>

                <div class="steps-container" id="stepsContainer">
                    <strong>üîç Passos da Resolu√ß√£o:</strong>
                    <div id="stepsContent">
                        <!-- Passos ser√£o mostrados aqui -->
                    </div>
                </div>
                
                <div style="text-align: center; margin: 15px 0;">
                    <span style="font-size: 1.1em;">Resultado Final: </span>
                    <div style="display: inline-flex; flex-direction: column; align-items: center; margin: 0 10px;">
                        <input type="number" class="fraction-input" id="diffResultNum" min="1" max="50">
                        <div style="width: 50px; height: 2px; background: #333; margin: 2px 0;"></div>
                        <input type="number" class="fraction-input" id="diffResultDen" min="1" max="50">
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="generateDifferentSum()">üîÑ Nova Soma</button>
                    <button class="btn" onclick="showSteps()">üëÅÔ∏è Ver Passos</button>
                    <button class="btn success" onclick="checkDifferentSum()">‚úÖ Verificar</button>
                </div>
                
                <div class="feedback" id="diffSumFeedback"></div>
            </div>

            <!-- Jogo 6: NOVO - Simplificando Fra√ß√µes -->
            <div class="game-card advanced">
                <h2 class="game-title advanced">‚ö° Simplificar Fra√ß√µes <span class="difficulty-badge">EXPERT</span></h2>
                <p style="text-align: center; margin-bottom: 15px;">Transforme em fra√ß√£o mais simples!</p>
                
                <div class="simplify-container">
                    <span class="fraction-display" id="complexFraction">12/18</span>
                    <span class="sum-symbol">=</span>
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <input type="number" class="fraction-input" id="simpleNum" min="1" max="20">
                        <div style="width: 50px; height: 2px; background: #333; margin: 2px 0;"></div>
                        <input type="number" class="fraction-input" id="simpleDen" min="1" max="20">
                    </div>
                </div>

                <div style="text-align: center; margin: 15px 0; font-size: 0.9em;">
                    <p>üí° <strong>Dica:</strong> Encontre o maior n√∫mero que divide os dois!</p>
                    <p id="gcdHint" style="color: #666; margin-top: 5px;"></p>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="generateSimplify()">üîÑ Nova Fra√ß√£o</button>
                    <button class="btn" onclick="showGCDHint()">üí° Dica</button>
                    <button class="btn success" onclick="checkSimplify()">‚úÖ Verificar</button>
                </div>
                
                <div class="feedback" id="simplifyFeedback"></div>
            </div>
        </div>
    </div>

    <script>
        let totalScore = 0;
        let currentPizzaTarget = 0;
        let currentComparison = {};
        let currentEquivalence = {};
        let currentSum = {};
        let currentDiffSum = {};
        let currentSimplify = {};

        // Fun√ß√£o para calcular MDC (Maior Divisor Comum)
        function gcd(a, b) {
            while (b !== 0) {
                let temp = b;
                b = a % b;
                a = temp;
            }
            return a;
        }

        // Fun√ß√£o para calcular MMC (M√≠nimo M√∫ltiplo Comum)
        function lcm(a, b) {
            return (a * b) / gcd(a, b);
        }

        // Atualizar pontua√ß√£o
        function updateScore(points) {
            totalScore += points;
            document.getElementById('totalScore').textContent = totalScore;
        }

        // Mostrar feedback
        function showFeedback(elementId, message, isSuccess) {
            const feedback = document.getElementById(elementId);
            feedback.textContent = message;
            feedback.className = isSuccess ? 'feedback success' : 'feedback error';
            feedback.style.display = 'block';
            setTimeout(() => {
                feedback.style.display = 'none';
            }, 4000);
        }

        // JOGO 1: Pizza de Fra√ß√µes
        function initPizza() {
            const pizza = document.getElementById('pizzaGame');
            pizza.innerHTML = '';
            for (let i = 0; i < 8; i++) {
                const slice = document.createElement('div');
                slice.className = 'pizza-slice';
                slice.onclick = () => toggleSlice(slice, i);
                pizza.appendChild(slice);
            }
            updatePizzaDisplay();
        }

        function toggleSlice(slice, index) {
            slice.classList.toggle('active');
            updatePizzaDisplay();
        }

        function updatePizzaDisplay() {
            const activeSlices = document.querySelectorAll('.pizza-slice.active').length;
            document.getElementById('pizzaFraction').textContent = `${activeSlices}/8`;
        }

        function resetPizza() {
            initPizza();
        }

        function checkPizzaFraction() {
            const activeSlices = document.querySelectorAll('.pizza-slice.active').length;
            if (activeSlices > 0) {
                updateScore(10);
                let message = `üéâ √ìtimo! Voc√™ fez ${activeSlices}/8 da pizza!`;
                if (activeSlices === 4) message += " Isso √© igual a 1/2!";
                if (activeSlices === 2) message += " Isso √© igual a 1/4!";
                showFeedback('pizzaFeedback', message, true);
            } else {
                showFeedback('pizzaFeedback', 'Clique em alguns peda√ßos primeiro!', false);
            }
        }

        // JOGO 2: Comparando Fra√ß√µes com denominadores diferentes
        function generateComparison() {
            const fractions = [
                {num: 1, den: 2, value: 0.5},
                {num: 1, den: 3, value: 0.333},
                {num: 1, den: 4, value: 0.25},
                {num: 2, den: 3, value: 0.667},
                {num: 3, den: 4, value: 0.75},
                {num: 2, den: 5, value: 0.4},
                {num: 3, den: 5, value: 0.6},
                {num: 1, den: 6, value: 0.167},
                {num: 5, den: 6, value: 0.833},
                {num: 2, den: 7, value: 0.286},
                {num: 3, den: 8, value: 0.375},
                {num: 5, den: 8, value: 0.625}
            ];

            const frac1 = fractions[Math.floor(Math.random() * fractions.length)];
            let frac2 = fractions[Math.floor(Math.random() * fractions.length)];
            while (Math.abs(frac1.value - frac2.value) < 0.1) {
                frac2 = fractions[Math.floor(Math.random() * fractions.length)];
            }

            currentComparison = {frac1, frac2};

            const container = document.getElementById('comparisonGame');
            container.innerHTML = `
                <div class="fraction-visual">
                    <div class="fraction-display">${frac1.num}/${frac1.den}</div>
                    <div class="bars-container">
                        ${Array.from({length: frac1.den}, (_, i) => `
                            <div class="bar ${i < frac1.num ? 'filled' : ''}"></div>
                        `).join('')}
                    </div>
                    <small style="color: #666;">${(frac1.value * 100).toFixed(1)}%</small>
                </div>
                <div>
                    <div class="comparison-symbol" onclick="checkComparison('<')">&lt;</div>
                    <div class="comparison-symbol" onclick="checkComparison('=')">=</div>
                    <div class="comparison-symbol" onclick="checkComparison('>')">></div>
                </div>
                <div class="fraction-visual">
                    <div class="fraction-display">${frac2.num}/${frac2.den}</div>
                    <div class="bars-container">
                        ${Array.from({length: frac2.den}, (_, i) => `
                            <div class="bar ${i < frac2.num ? 'filled' : ''}"></div>
                        `).join('')}
                    </div>
                    <small style="color: #666;">${(frac2.value * 100).toFixed(1)}%</small>
                </div>
            `;
        }

        function checkComparison(symbol) {
            let correct = false;
            const {frac1, frac2} = currentComparison;
            
            if (symbol === '<' && frac1.value < frac2.value) correct = true;
            if (symbol === '>' && frac1.value > frac2.value) correct = true;
            if (symbol === '=' && Math.abs(frac1.value - frac2.value) < 0.01) correct = true;

            if (correct) {
                updateScore(20);
                showFeedback('comparisonFeedback', `üéâ Correto! ${frac1.num}/${frac1.den} ${symbol} ${frac2.num}/${frac2.den}. Compare as porcentagens!`, true);
            } else {
                showFeedback('comparisonFeedback', '‚ùå Tente novamente! Olhe as barras coloridas e as porcentagens.', false);
            }
        }

        // JOGO 3: Fra√ß√µes Equivalentes
        function generateEquivalence() {
            const base = [
                {num: 1, den: 2},
                {num: 1, den: 3},
                {num: 2, den: 3},
                {num: 1, den: 4},
                {num: 3, den: 4},
                {num: 2, den: 5},
                {num: 3, den: 5}
            ];

            const original = base[Math.floor(Math.random() * base.length)];
            const multiplier = Math.floor(Math.random() * 4) + 2; // 2-5

            currentEquivalence = {
                original,
                newDen: original.den * multiplier,
                correctNum: original.num * multiplier
            };

            document.getElementById('originalFraction').textContent = `${original.num}/${original.den}`;
            document.getElementById('equivalentDen').textContent = currentEquivalence.newDen;
            document.getElementById('equivalentNum').value = '';
        }

        function checkEquivalence() {
            const userAnswer = parseInt(document.getElementById('equivalentNum').value);
            if (userAnswer === currentEquivalence.correctNum) {
                updateScore(15);
                showFeedback('equivalenceFeedback', `üéâ Perfeito! ${currentEquivalence.original.num}/${currentEquivalence.original.den} = ${userAnswer}/${currentEquivalence.newDen}`, true);
            } else {
                showFeedback('equivalenceFeedback', `‚ùå N√£o √© isso! Dica: ${currentEquivalence.original.den} √ó ? = ${currentEquivalence.newDen}. Fa√ßa a mesma conta com ${currentEquivalence.original.num}`, false);
            }
        }

        // JOGO 4: Somando Fra√ß√µes com mesmo denominador
        function generateSum() {
            const den = Math.floor(Math.random() * 4) + 6; // 6-9
            const num1 = Math.floor(Math.random() * 3) + 1; // 1-3
            const num2 = Math.floor(Math.random() * 3) + 1; // 1-3
            
            currentSum = {
                frac1: {num: num1, den},
                frac2: {num: num2, den},
                result: num1 + num2
            };

            const container = document.getElementById('sumGame');
            container.innerHTML = `
                <div style="text-align: center;">
                    <div class="fraction-display">${num1}/${den}</div>
                    <div class="fraction-blocks">
                        ${Array.from({length: den}, (_, i) => `
                            <div class="block ${i < num1 ? 'filled' : ''}"></div>
                        `).join('')}
                    </div>
                </div>
                <div class="sum-symbol">+</div>
                <div style="text-align: center;">
                    <div class="fraction-display">${num2}/${den}</div>
                    <div class="fraction-blocks">
                        ${Array.from({length: den}, (_, i) => `
                            <div class="block ${i < num2 ? 'filled2' : ''}"></div>
                        `).join('')}
                    </div>
                </div>
                <div class="sum-symbol">=</div>
                <div class="sum-symbol">?</div>
            `;

            document.getElementById('resultDen').textContent = den;
            document.getElementById('resultNum').value = '';
        }

        function checkSum() {
            const userAnswer = parseInt(document.getElementById('resultNum').value);
            if (userAnswer === currentSum.result) {
                updateScore(20);
                showFeedback('sumFeedback', `üéâ Excelente! ${currentSum.frac1.num}/${currentSum.frac1.den} + ${currentSum.frac2.num}/${currentSum.frac2.den} = ${userAnswer}/${currentSum.frac1.den}`, true);
            } else {
                showFeedback('sumFeedback', `‚ùå Quase l√°! Some os quadradinhos coloridos: ${currentSum.frac1.num} + ${currentSum.frac2.num} = ${currentSum.result}`, false);
            }
        }

        // JOGO 5: NOVO - Somando com denominadores diferentes
        function generateDifferentSum() {
            const pairs = [
                {f1: {num: 1, den: 2}, f2: {num: 1, den: 3}},
                {f1: {num: 1, den: 2}, f2: {num: 1, den: 4}},
                {f1: {num: 1, den: 3}, f2: {num: 1, den: 4}},
                {f1: {num: 1, den: 3}, f2: {num: 1, den: 6}},
                {f1: {num: 2, den: 3}, f2: {num: 1, den: 4}},
                {f1: {num: 1, den: 4}, f2: {num: 1, den: 6}},
                {f1: {num: 3, den: 4}, f2: {num: 1, den: 6}}
            ];

            const pair = pairs[Math.floor(Math.random() * pairs.length)];
            const commonDen = lcm(pair.f1.den, pair.f2.den);
            
            currentDiffSum = {
                frac1: pair.f1,
                frac2: pair.f2,
                commonDen: commonDen,
                newNum1: (pair.f1.num * commonDen) / pair.f1.den,
                newNum2: (pair.f2.num * commonDen) / pair.f2.den,
                resultNum: ((pair.f1.num * commonDen) / pair.f1.den) + ((pair.f2.num * commonDen) / pair.f2.den),
                resultDen: commonDen
            };

            const container = document.getElementById('diffSumGame');
            container.innerHTML = `
                <div style="text-align: center;">
                    <div class="fraction-display" style="color: #e53e3e;">${pair.f1.num}/${pair.f1.den}</div>
                    <small style="color: #666;">Denominador: ${pair.f1.den}</small>
                </div>
                <div class="sum-symbol">+</div>
                <div style="text-align: center;">
                    <div class="fraction-display" style="color: #d69e2e;">${pair.f2.num}/${pair.f2.den}</div>
                    <small style="color: #666;">Denominador: ${pair.f2.den}</small>
                </div>
                <div class="sum-symbol">=</div>
                <div class="sum-symbol">?</div>
            `;

            document.getElementById('diffResultNum').value = '';
            document.getElementById('diffResultDen').value = '';
            document.getElementById('stepsContent').innerHTML = '<p style="color: #666;">Clique em "Ver Passos" para entender como resolver!</p>';
        }

        function showSteps() {
            const {frac1, frac2, commonDen, newNum1, newNum2, resultNum} = currentDiffSum;
            
            document.getElementById('stepsContent').innerHTML = `
                <div class="step">1Ô∏è‚É£ <strong>Encontrar denominador comum:</strong> MMC(${frac1.den}, ${frac2.den}) = ${commonDen}</div>
                <div class="step">2Ô∏è‚É£ <strong>Converter primeira fra√ß√£o:</strong> ${frac1.num}/${frac1.den} = ${newNum1}/${commonDen} (multiplica por ${commonDen/frac1.den})</div>
                <div class="step">3Ô∏è‚É£ <strong>Converter segunda fra√ß√£o:</strong> ${frac2.num}/${frac2.den} = ${newNum2}/${commonDen} (multiplica por ${commonDen/frac2.den})</div>
                <div class="step">4Ô∏è‚É£ <strong>Somar:</strong> ${newNum1}/${commonDen} + ${newNum2}/${commonDen} = ${resultNum}/${commonDen}</div>
                <div class="step highlight">üéØ <strong>Resposta:</strong> ${resultNum}/${commonDen}</div>
            `;
        }

        function checkDifferentSum() {
            const userNum = parseInt(document.getElementById('diffResultNum').value);
            const userDen = parseInt(document.getElementById('diffResultDen').value);
            
            if (userNum === currentDiffSum.resultNum && userDen === currentDiffSum.resultDen) {
                updateScore(30);
                showFeedback('diffSumFeedback', `üéâüéâ INCR√çVEL! ${currentDiffSum.frac1.num}/${currentDiffSum.frac1.den} + ${currentDiffSum.frac2.num}/${currentDiffSum.frac2.den} = ${userNum}/${userDen}. Voc√™ dominou denominadores diferentes!`, true);
            } else {
                showFeedback('diffSumFeedback', `‚ùå N√£o √© isso! Use os passos: encontre o MMC(${currentDiffSum.frac1.den}, ${currentDiffSum.frac2.den}) = ${currentDiffSum.commonDen} e converta as fra√ß√µes.`, false);
            }
        }

        // JOGO 6: NOVO - Simplificando Fra√ß√µes
        function generateSimplify() {
            const complex = [
                {num: 6, den: 9, simpleNum: 2, simpleDen: 3},
                {num: 8, den: 12, simpleNum: 2, simpleDen: 3},
                {num: 10, den: 15, simpleNum: 2, simpleDen: 3},
                {num: 12, den: 18, simpleNum: 2, simpleDen: 3},
                {num: 4, den: 8, simpleNum: 1, simpleDen: 2},
                {num: 6, den: 12, simpleNum: 1, simpleDen: 2},
                {num: 9, den: 12, simpleNum: 3, simpleDen: 4},
                {num: 15, den: 20, simpleNum: 3, simpleDen: 4},
                {num: 14, den: 21, simpleNum: 2, simpleDen: 3},
                {num: 16, den: 24, simpleNum: 2, simpleDen: 3}
            ];

            currentSimplify = complex[Math.floor(Math.random() * complex.length)];

            document.getElementById('complexFraction').textContent = `${currentSimplify.num}/${currentSimplify.den}`;
            document.getElementById('simpleNum').value = '';
            document.getElementById('simpleDen').value = '';
            document.getElementById('gcdHint').textContent = '';
        }

        function showGCDHint() {
            const gcdValue = gcd(currentSimplify.num, currentSimplify.den);
            document.getElementById('gcdHint').textContent = `üí° O maior n√∫mero que divide ${currentSimplify.num} e ${currentSimplify.den} √© ${gcdValue}`;
        }

        function checkSimplify() {
            const userNum = parseInt(document.getElementById('simpleNum').value);
            const userDen = parseInt(document.getElementById('simpleDen').value);
            
            if (userNum === currentSimplify.simpleNum && userDen === currentSimplify.simpleDen) {
                updateScore(25);
                const gcdValue = gcd(currentSimplify.num, currentSimplify.den);
                showFeedback('simplifyFeedback', `üéâ Perfeito! ${currentSimplify.num}/${currentSimplify.den} = ${userNum}/${userDen} (dividindo por ${gcdValue})`, true);
            } else {
                const gcdValue = gcd(currentSimplify.num, currentSimplify.den);
                showFeedback('simplifyFeedback', `‚ùå Tente novamente! Dica: divida ${currentSimplify.num} e ${currentSimplify.den} por ${gcdValue}`, false);
            }
        }

        // Inicializar jogos
        window.onload = function() {
            initPizza();
            generateComparison();
            generateEquivalence();
            generateSum();
            generateDifferentSum();
            generateSimplify();
        };
    </script>
</body>
</html>
