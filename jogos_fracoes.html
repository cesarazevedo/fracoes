<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ Jogos de Fra√ß√µes - Divers√£o com Matem√°tica!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .game-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
        }

        .game-card:hover {
            transform: translateY(-5px);
        }

        .game-title {
            font-size: 1.5em;
            color: #5a67d8;
            margin-bottom: 15px;
            text-align: center;
        }

        /* Jogo da Pizza */
        .pizza-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .pizza {
            display: grid;
            grid-template-columns: repeat(8, 40px);
            gap: 2px;
            margin: 10px;
        }

        .pizza-slice {
            width: 40px;
            height: 40px;
            background: #f7fafc;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
        }

        .pizza-slice.active {
            background: #ff6b35;
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(255, 107, 53, 0.4);
        }

        /* Jogo de Compara√ß√£o */
        .comparison-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px 0;
        }

        .fraction-visual {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .fraction-display {
            font-size: 2em;
            font-weight: bold;
            color: #5a67d8;
            margin-bottom: 10px;
        }

        .bars-container {
            display: flex;
            gap: 2px;
        }

        .bar {
            width: 30px;
            height: 60px;
            background: #e2e8f0;
            border: 2px solid #cbd5e0;
            border-radius: 4px;
        }

        .bar.filled {
            background: linear-gradient(45deg, #48bb78, #38a169);
        }

        .comparison-symbol {
            font-size: 3em;
            font-weight: bold;
            color: #e53e3e;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .comparison-symbol:hover {
            transform: scale(1.2);
        }

        /* Bot√µes */
        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn.success {
            background: linear-gradient(45deg, #48bb78, #38a169);
        }

        .btn.danger {
            background: linear-gradient(45deg, #f56565, #e53e3e);
        }

        /* Equival√™ncia */
        .equivalence-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .fraction-input {
            width: 60px;
            height: 40px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
        }

        .fraction-input:focus {
            border-color: #667eea;
            outline: none;
        }

        /* Soma Visual */
        .sum-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .fraction-blocks {
            display: flex;
            gap: 3px;
        }

        .block {
            width: 30px;
            height: 30px;
            border: 2px solid #cbd5e0;
            border-radius: 6px;
            background: #f7fafc;
        }

        .block.filled {
            background: #4299e1;
        }

        .sum-symbol {
            font-size: 2em;
            font-weight: bold;
            color: #5a67d8;
        }

        /* Feedback */
        .feedback {
            text-align: center;
            padding: 15px;
            margin: 15px 0;
            border-radius: 12px;
            font-weight: bold;
            display: none;
        }

        .feedback.success {
            background: #c6f6d5;
            color: #2f855a;
            border: 2px solid #9ae6b4;
        }

        .feedback.error {
            background: #fed7d7;
            color: #c53030;
            border: 2px solid #fc8181;
        }

        .score {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 10px 20px;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            font-weight: bold;
            color: #5a67d8;
        }

        @media (max-width: 768px) {
            .games-grid {
                grid-template-columns: 1fr;
            }
            .header h1 {
                font-size: 2em;
            }
            .pizza {
                grid-template-columns: repeat(4, 35px);
            }
            .pizza-slice {
                width: 35px;
                height: 35px;
            }
        }
    </style>
</head>
<body>
    <div class="score">
        üèÜ Pontos: <span id="totalScore">0</span>
    </div>

    <div class="container">
        <div class="header">
            <h1>üéÆ Jogos de Fra√ß√µes</h1>
            <p>Aprenda brincando! Clique, explore e descubra o mundo das fra√ß√µes</p>
        </div>

        <div class="games-grid">
            <!-- Jogo 1: Pizza de Fra√ß√µes -->
            <div class="game-card">
                <h2 class="game-title">üçï Pizza de Fra√ß√µes</h2>
                <p style="text-align: center; margin-bottom: 15px;">Clique nos peda√ßos para formar a fra√ß√£o!</p>
                
                <div style="text-align: center;">
                    <div class="fraction-display" id="pizzaFraction">0/8</div>
                </div>
                
                <div class="pizza-container">
                    <div class="pizza" id="pizzaGame">
                        <!-- Peda√ßos ser√£o gerados pelo JS -->
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="resetPizza()">üîÑ Nova Pizza</button>
                    <button class="btn success" onclick="checkPizzaFraction()">‚úÖ Verificar</button>
                </div>
                
                <div class="feedback" id="pizzaFeedback"></div>
            </div>

            <!-- Jogo 2: Comparando Fra√ß√µes -->
            <div class="game-card">
                <h2 class="game-title">‚öñÔ∏è Compare as Fra√ß√µes</h2>
                <p style="text-align: center; margin-bottom: 15px;">Qual fra√ß√£o √© maior? Clique no s√≠mbolo correto!</p>
                
                <div class="comparison-container" id="comparisonGame">
                    <!-- Ser√° preenchido pelo JS -->
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="generateComparison()">üîÑ Nova Compara√ß√£o</button>
                </div>
                
                <div class="feedback" id="comparisonFeedback"></div>
            </div>

            <!-- Jogo 3: Fra√ß√µes Equivalentes -->
            <div class="game-card">
                <h2 class="game-title">üîÑ Fra√ß√µes Equivalentes</h2>
                <p style="text-align: center; margin-bottom: 15px;">Complete a equival√™ncia! Digite o n√∫mero que falta.</p>
                
                <div class="equivalence-container">
                    <span class="fraction-display" id="originalFraction">1/2</span>
                    <span class="sum-symbol">=</span>
                    <div style="display: flex; flex-direction: column; align-items: center;">
                        <input type="number" class="fraction-input" id="equivalentNum" min="1" max="20">
                        <div style="width: 60px; height: 2px; background: #333; margin: 2px 0;"></div>
                        <span id="equivalentDen" style="font-size: 1.2em; font-weight: bold;">4</span>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="generateEquivalence()">üîÑ Nova Equival√™ncia</button>
                    <button class="btn success" onclick="checkEquivalence()">‚úÖ Verificar</button>
                </div>
                
                <div class="feedback" id="equivalenceFeedback"></div>
            </div>

            <!-- Jogo 4: Somando Fra√ß√µes -->
            <div class="game-card">
                <h2 class="game-title">‚ûï Somando Fra√ß√µes</h2>
                <p style="text-align: center; margin-bottom: 15px;">Veja a soma visual e digite o resultado!</p>
                
                <div class="sum-container" id="sumGame">
                    <!-- Ser√° preenchido pelo JS -->
                </div>
                
                <div style="text-align: center; margin: 20px 0;">
                    <span style="font-size: 1.2em;">Resultado: </span>
                    <div style="display: inline-flex; flex-direction: column; align-items: center; margin: 0 10px;">
                        <input type="number" class="fraction-input" id="resultNum" min="1" max="20">
                        <div style="width: 60px; height: 2px; background: #333; margin: 2px 0;"></div>
                        <span id="resultDen" style="font-size: 1.2em; font-weight: bold;">8</span>
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="btn" onclick="generateSum()">üîÑ Nova Soma</button>
                    <button class="btn success" onclick="checkSum()">‚úÖ Verificar</button>
                </div>
                
                <div class="feedback" id="sumFeedback"></div>
            </div>
        </div>
    </div>

    <script>
        let totalScore = 0;
        let currentPizzaTarget = 0;
        let currentComparison = {};
        let currentEquivalence = {};
        let currentSum = {};

        // Atualizar pontua√ß√£o
        function updateScore(points) {
            totalScore += points;
            document.getElementById('totalScore').textContent = totalScore;
        }

        // Mostrar feedback
        function showFeedback(elementId, message, isSuccess) {
            const feedback = document.getElementById(elementId);
            feedback.textContent = message;
            feedback.className = isSuccess ? 'feedback success' : 'feedback error';
            feedback.style.display = 'block';
            setTimeout(() => {
                feedback.style.display = 'none';
            }, 3000);
        }

        // JOGO 1: Pizza de Fra√ß√µes
        function initPizza() {
            const pizza = document.getElementById('pizzaGame');
            pizza.innerHTML = '';
            for (let i = 0; i < 8; i++) {
                const slice = document.createElement('div');
                slice.className = 'pizza-slice';
                slice.onclick = () => toggleSlice(slice, i);
                pizza.appendChild(slice);
            }
            currentPizzaTarget = Math.floor(Math.random() * 7) + 1; // 1-7
            updatePizzaDisplay();
        }

        function toggleSlice(slice, index) {
            slice.classList.toggle('active');
            updatePizzaDisplay();
        }

        function updatePizzaDisplay() {
            const activeSlices = document.querySelectorAll('.pizza-slice.active').length;
            document.getElementById('pizzaFraction').textContent = `${activeSlices}/8`;
        }

        function resetPizza() {
            initPizza();
        }

        function checkPizzaFraction() {
            const activeSlices = document.querySelectorAll('.pizza-slice.active').length;
            if (activeSlices > 0) {
                updateScore(10);
                showFeedback('pizzaFeedback', `üéâ √ìtimo! Voc√™ fez ${activeSlices}/8 da pizza!`, true);
            } else {
                showFeedback('pizzaFeedback', 'Clique em alguns peda√ßos primeiro!', false);
            }
        }

        // JOGO 2: Comparando Fra√ß√µes
        function generateComparison() {
            const fractions = [
                {num: 1, den: 2, value: 0.5},
                {num: 1, den: 3, value: 0.333},
                {num: 1, den: 4, value: 0.25},
                {num: 2, den: 3, value: 0.667},
                {num: 3, den: 4, value: 0.75},
                {num: 2, den: 5, value: 0.4},
                {num: 3, den: 5, value: 0.6}
            ];

            const frac1 = fractions[Math.floor(Math.random() * fractions.length)];
            let frac2 = fractions[Math.floor(Math.random() * fractions.length)];
            while (frac1.value === frac2.value) {
                frac2 = fractions[Math.floor(Math.random() * fractions.length)];
            }

            currentComparison = {frac1, frac2};

            const container = document.getElementById('comparisonGame');
            container.innerHTML = `
                <div class="fraction-visual">
                    <div class="fraction-display">${frac1.num}/${frac1.den}</div>
                    <div class="bars-container">
                        ${Array.from({length: frac1.den}, (_, i) => `
                            <div class="bar ${i < frac1.num ? 'filled' : ''}"></div>
                        `).join('')}
                    </div>
                </div>
                <div>
                    <div class="comparison-symbol" onclick="checkComparison('<')">&lt;</div>
                    <div class="comparison-symbol" onclick="checkComparison('=')">=</div>
                    <div class="comparison-symbol" onclick="checkComparison('>')">></div>
                </div>
                <div class="fraction-visual">
                    <div class="fraction-display">${frac2.num}/${frac2.den}</div>
                    <div class="bars-container">
                        ${Array.from({length: frac2.den}, (_, i) => `
                            <div class="bar ${i < frac2.num ? 'filled' : ''}"></div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function checkComparison(symbol) {
            let correct = false;
            const {frac1, frac2} = currentComparison;
            
            if (symbol === '<' && frac1.value < frac2.value) correct = true;
            if (symbol === '>' && frac1.value > frac2.value) correct = true;
            if (symbol === '=' && frac1.value === frac2.value) correct = true;

            if (correct) {
                updateScore(15);
                showFeedback('comparisonFeedback', `üéâ Correto! ${frac1.num}/${frac1.den} ${symbol} ${frac2.num}/${frac2.den}`, true);
            } else {
                showFeedback('comparisonFeedback', '‚ùå Tente novamente! Observe as barras coloridas.', false);
            }
        }

        // JOGO 3: Fra√ß√µes Equivalentes
        function generateEquivalence() {
            const base = [
                {num: 1, den: 2},
                {num: 1, den: 3},
                {num: 2, den: 3},
                {num: 1, den: 4},
                {num: 3, den: 4}
            ];

            const original = base[Math.floor(Math.random() * base.length)];
            const multiplier = Math.floor(Math.random() * 4) + 2; // 2-5

            currentEquivalence = {
                original,
                newDen: original.den * multiplier,
                correctNum: original.num * multiplier
            };

            document.getElementById('originalFraction').textContent = `${original.num}/${original.den}`;
            document.getElementById('equivalentDen').textContent = currentEquivalence.newDen;
            document.getElementById('equivalentNum').value = '';
        }

        function checkEquivalence() {
            const userAnswer = parseInt(document.getElementById('equivalentNum').value);
            if (userAnswer === currentEquivalence.correctNum) {
                updateScore(20);
                showFeedback('equivalenceFeedback', `üéâ Perfeito! ${currentEquivalence.original.num}/${currentEquivalence.original.den} = ${userAnswer}/${currentEquivalence.newDen}`, true);
            } else {
                showFeedback('equivalenceFeedback', `‚ùå N√£o √© isso! Dica: multiplique ${currentEquivalence.original.num} pelo mesmo n√∫mero que transformou ${currentEquivalence.original.den} em ${currentEquivalence.newDen}`, false);
            }
        }

        // JOGO 4: Somando Fra√ß√µes
        function generateSum() {
            // Usar denominador comum para simplificar
            const den = 8;
            const num1 = Math.floor(Math.random() * 3) + 1; // 1-3
            const num2 = Math.floor(Math.random() * 3) + 1; // 1-3
            
            currentSum = {
                frac1: {num: num1, den},
                frac2: {num: num2, den},
                result: num1 + num2
            };

            const container = document.getElementById('sumGame');
            container.innerHTML = `
                <div style="text-align: center;">
                    <div class="fraction-display">${num1}/${den}</div>
                    <div class="fraction-blocks">
                        ${Array.from({length: den}, (_, i) => `
                            <div class="block ${i < num1 ? 'filled' : ''}"></div>
                        `).join('')}
                    </div>
                </div>
                <div class="sum-symbol">+</div>
                <div style="text-align: center;">
                    <div class="fraction-display">${num2}/${den}</div>
                    <div class="fraction-blocks">
                        ${Array.from({length: den}, (_, i) => `
                            <div class="block ${i < num2 ? 'filled' : ''}"></div>
                        `).join('')}
                    </div>
                </div>
                <div class="sum-symbol">=</div>
                <div class="sum-symbol">?</div>
            `;

            document.getElementById('resultDen').textContent = den;
            document.getElementById('resultNum').value = '';
        }

        function checkSum() {
            const userAnswer = parseInt(document.getElementById('resultNum').value);
            if (userAnswer === currentSum.result) {
                updateScore(25);
                showFeedback('sumFeedback', `üéâ Excelente! ${currentSum.frac1.num}/${currentSum.frac1.den} + ${currentSum.frac2.num}/${currentSum.frac2.den} = ${userAnswer}/${currentSum.frac1.den}`, true);
            } else {
                showFeedback('sumFeedback', `‚ùå Quase l√°! Conte todos os quadradinhos azuis. Tem ${currentSum.result} no total!`, false);
            }
        }

        // Inicializar jogos
        window.onload = function() {
            initPizza();
            generateComparison();
            generateEquivalence();
            generateSum();
        };
    </script>
</body>
</html>